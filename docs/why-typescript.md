# چرا تایپ اسکریپت
دو هدف اصلی در تایپ اسکریپت وجود دارد:
* ارائه یک *سیستم تایپ دهی اختیاری* برای جاوا اسکریپت.
* ارائه یک سری ویژگی برنامه ریزی شده از نسخه های بعدی جاوا اسکریپت به انجین های فعلی جاوا اسکریپت

برخی اهداف دیگر برای استفاده از تایپ اسکریپت

## سیستم تایپ در تایپ اسکریپت

ممکنه واسه شما سوال (جالب) باشه که "**چرا تایپ ها به جاوااسکریپت اضافه می شوند؟**"

تایپ ها قابلیتی را به کدهای شما اضافه میکنند که با کیفیت تر و قابل فهم تر شوند. همانظور که تیم های بزرگ مثل (Google, Microsoft, Facebook) از سیستم تایپ ها در حال استفاده هستند. به طور خاص:

* تایپ ها چابکی و سرعت شما را هنگام ریفکتور کردن کدها افزایش می دهد. *این بهتر هست که کامپایلر خطاها را تشخیص بده تا اینکه پروژه هنگام اجرا به مشکل بخورد*.
* یکی از بهترین فرم هایی که برای داکیومنت کردن میتونید داشته باشید تایپ ها هستند. *ورودی ها و تایپ ورودی ها و اینکه به چه شکلی در تابع استفاده می شوند*.

با این حال استفاده از تایپ ها در پروژه ضروری نمی باشد اما تایپ اسکریپت کمک می کنه که تا حد ممکن مشکلات و خطاها را در سطح پایینی نگه داریم. در ادامه میگیم به چه شکلی:

### جاوااسکریپت شما همان تایپ اسکریپت است
تایپ اسکریپت موقع کامپل کدهای جاوا اسکریپت باعث می شود که بررسی کند تایپ متغیرها یا توابع خطایی نداشته باشند. همانطور که از اسم آن مشخص هست این چیز تعجب آوری نیست. بزرگترین چیز این است که تایپ ها کاملا اختیاری می باشند. فایل جاوا اسکریپت شما `.js` میتونه به `.ts` تغییر نام پیدا کنه و همچنان تمام دستورهایی که در فایل `.js` داشتید را بدون مشکل متوجه بشه و اجرا کنه. تایپ اسکریپت *از پیش طراحی شده* و یک مجموعه بزرگتری از جاوا اسکریپت با قابلیت چک کردن تایپ ها می باشد.

### تایپ ها می توانند ضمنی باشند
تایپ اسکریپت سعی می کند تا جایی که امکان دارد انواع تایپ ها را شناسایی کند و با کمترین هزینه در طول توسعه پروژه از آن ها در برابر تغییر تایپ محافظت کند.
برای مثال در تکه کد پایین تایپ اسکریپت می داند که تایپ foo از نوع `number` است و در خط بعدی خطا می دهد:

```ts
var foo = 123;
foo = '456'; // Error: cannot assign `string` to `number`

// Is foo a number or a string?
```
این مدل از اینترفیس صرفا برای مثال بالا کارایی دارد. اگر شما بخوایند شبیه به مثال بالا کد بزنید, در ادامه توسعه پروژه ممکنه دچار مشکل بشید که  `foo` از نوع `number` یا `string` بوده است. این چنین موضوع ها در پروژه های بزرگ که از فایل های مختلفی ساخته شده اند بیشتر خودش را نمایان می کند.تا همینجا را فعلا یاد بگیرید تا بعدا در مفاهیم اینترفیس ها عمیق تر بشیم.

### تایپ ها می توانند واضح باشند
همانطور که قبلا توضیح دادیم, تایپ اسکریپت میتواند تا جایی که امکان دارد انواع تایپ ها را شناسایی کند. اگر چه شما می توانید از (حاشیه نویسی) annotations نیز استفاده کنید:

1. این به کامپایلر کمک میکند, همچنین یک داکیومنت خیلی مهم برای توسعه دهندگان بعدی که میخواهند کد شما را بخوانند می باشد.
2. با اینکار شما کامپایلر را مجبور میکنید که چیزی که شما دقیقا مدنظرتان هست را ببیند. یعنی درک شما از کد با تحلیل الگوریتمی کد مطابقت دارد (کاری که توسط کامپایلر انجام می شود).

تایپ اسکریپت از postfix annotations که در دیگر زبان ها نیز محبوب است استفاده میکند (مثل ActionScript and F#).

```ts
var foo: number = 123;
```
اگر شما مقدار اشتباهی را به foo نسبت دهید، کامپایلر به شما خطا می دهد.

```ts
var foo: number = '123'; // Error: cannot assign a `string` to a `number`
```

ما درباره جزئیات سینتکس های annotation که تایپ اسکریپت استفاده میکند در درس های بعد صحبت میکنیم.

### تایپ ها می توانند ساختاری باشند
در برخی از زبان ها (به خصوص اونایی که nominal هستند) نیازی به نوشتن تایپ ها به صورت static نیست چون حتی اگر  *شما بدونید* کد شما به درستی کار خواهد کرد، ساختار آن زبان شما را مجبور میکند که حتما تایپ آن را در کنارش وارد کنید. مثلا [automapper برای C#](http://automapper.org/) که برای آن ضروری است.در تایپ اسکریپت چون ما میخواهیم توسعه دهندگان جاوا اسکریپت کمترین دردسر را داشته باشند تایپ ها را به صورت *structural (ساختاری)* تعریف می کنیم. این بدین معناست که *duck typing* اولین ساختاری است که تعریف می شود. مثال پایین را در نظر بگیرید. تابع `iTakePoint2D` هر چیزی که شامل (`x` و `y`) می شود را قبول میکند:

```ts
interface Point2D {
    x: number;
    y: number;
}
interface Point3D {
    x: number;
    y: number;
    z: number;
}
var point2D: Point2D = { x: 0, y: 10 }
var point3D: Point3D = { x: 0, y: 10, z: 20 }
function iTakePoint2D(point: Point2D) { /* do something */ }

iTakePoint2D(point2D); // exact match okay
iTakePoint2D(point3D); // extra information okay
iTakePoint2D({ x: 0 }); // Error: missing information `y`
```

### خطاهای Type از انتشار جاوا اسکریپت جلوگیری نمی کنند
برای اینکه راحتتر بتوانید کدهای خودتان را از جاوا اسکریپت به تایپ اسکریپت منتقل کنید, حتی اگر خطاهای بسیاری هم داشته باشید, به صورت پیشفرض تایپ اسکریپت *کدهای جاوا اسکریپت را منتشر میکند*. برای نمونه.

```ts
var foo = 123;
foo = '456'; // Error: cannot assign a `string` to a `number`
```

کد جاوا اسکریپت پایین منتشر می شود:

```ts
var foo = 123;
foo = '456';
```

پس شما می توانید به صورت تدریجی کدهای جاوا اسکریپت خودتان را به تایپ اسکریپت تبدیل کنید. این با خیلی از زبان های برنامه نویسی دیگر متفاوت است، و این همان دلیلی است که ما را ترغیب میکند از تایپ اسکریپت استفاده کنیم.

### تایپ ها میتوانند ambient (محیطی) باشند
یکی از بزرگترین اهداف تایپ اسکریپت این بود که شما بتوانید به راحتی و امن از کتابخانه های جاوا اسکریپت در تایپ اسکریپت استفاده کنید. تایپ اسکریپت این کار را با مفهوم *declaration* انجام میدهد. تایپ اسکریپت این اجازه را به توسعه دهندگان می دهد که تعیین کنند چه مقدار  declaration را در کد خود انجام دهند, هر چه بیشتر تایپ در کد خود تعریف کنید امنیت بیشتری به دست می آورید. توجه داشته باشید که definitions برای بیشتر کتابخانه های جاوا اسکریپت نوشته شده اند [DefinitelyTyped community](https://github.com/borisyankov/DefinitelyTyped) پس مهمترین اهداف این کامیونیتی این است که:

1. فایل های definition که در حال حاضر موجود هستند را نمایش دهند.
2. یا حداقل شما بتونید یه لیست بزرگی از declaration های تریف شده در تایپ اسکریپت را داشته باشید

 چطوری شما هم declaration فایل خود را بنویسید؟ یک مثال از [jquery](https://jquery.com/) را در نظر بگیرید . به صورت پیشفرض تایپ اسکریپت از شما انتظار دارد که  (برای نمونه یک `var` یه جایی) قبل از متغیر خود استفاده کنید.
```ts
$('.awesome').show(); // Error: cannot find name `$`
```
به عنوان یک راه حل سریع *می تونیم به تایپ اسکریپت بگیم* که یه چیزی وجود دارد که ما `$` صداش میزنیم: 
```ts
declare var $: any;
$('.awesome').show(); // Okay!
```
اگه شما بخواهید می توانید به تکه کد بالا موارد دیگری را هم اضافه کنید که باعث بشه در طول پروژه خطاهای معنادار و درستی به شما بدهد:
```ts
declare var $: {
    (selector:string): any;
};
$('.awesome').show(); // Okay!
$(123).show(); // Error: selector needs to be a string
```

وقتی بیشتر درباره تایپ اسکریپت یاد گرفتید ما این مبحث را به صورت مفصل تر برای شما بیان میکنیم (مثل چیزهایی شبیه به `interface` و `any`).

## Future JavaScript => Now
تایپ اسکریپت تعداد زیادی از ویژگی هایی که برای ES6 برای موتور جاوا اسکریپت برنامه ریزی شده است را نیز در اختیار ما قرار می دهد.
تیم توسعه دهنده تایپ اسکریپت به صورت فعالانه در حال اضافه کردن این ویژگی ها به تایپ اسکریپت می باشند و این لیست دائما داره بزرگ و بزرگتر میشه. فقط یه نمونه از کلاس را می توانید اینجا ملاحظه کنید:

```ts
class Point {
    constructor(public x: number, public y: number) {
    }
    add(point: Point) {
        return new Point(this.x + point.x, this.y + point.y);
    }
}

var p1 = new Point(0, 10);
var p2 = new Point(10, 20);
var p3 = p1.add(p2); // { x: 10, y: 30 }
```

و همچنین برای arrow function:

```ts
var inc = x => x+1;
```

### جمع بندی
در این قسمت از آموزش ما سعی کردیم بیشتر از انگیزه و اهداف ایجاد تایپ اسکریپت صحبت کنیم.
با دانستن این مطالب ما میتونیم به جزئیات بیشتری از تایپ اسکریپت بپردازیم..

[](Interfaces are open ended)
[](Type Inference rules)
[](Cover all the annotations)
[](Cover all ambients : also that there are no runtime enforcement)
[](.ts vs. .d.ts)
